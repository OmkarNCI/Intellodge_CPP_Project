{% extends 'intelrev/base.html' %}
{% block content %}

<div class="container py-4">

  <!-- Hero Welcome Section -->
  <div class="hero-section mb-4 p-4 rounded text-white">
    <h2 class="fw-bold">Welcome,  {{ request.session.username|default:"User" }}</h2>
    <p class="mb-0">This dashboard gives you real-time insights into room availability, booking activities, and revenue performance powered by our Intellodge backend operations.</p>
  </div>

  <!-- Floating Image Strip -->
  <div class="image-strip mb-4">
    {% if image_urls %}
      {% for url in image_urls %}
        <img src="{{ url }}" alt="Room Image">
      {% endfor %}
    {% else %}
      <p>No images available</p>
    {% endif %}
  </div>


  <!-- Main Stats Cards -->
  <div class="row g-4">

    <div class="col-md-3">
      <a href="{% url 'room_list' %}" class="text-decoration-none text-dark">
        <div class="card stat-card border-primary shadow-sm">
          <div class="card-body text-center">
            <div class="stat-icon text-primary">ğŸ›ï¸</div>
            <h6 class="text-secondary">Total Rooms</h6>
            <p class="display-6 fw-bold">{{ total_rooms }}</p>
          </div>
        </div>
      </a>
    </div>

    <div class="col-md-3">
      <div class="card stat-card border-success shadow-sm">
        <div class="card-body text-center">
          <div class="stat-icon text-success">âœ…</div>
          <h6 class="text-secondary">Occupied</h6>
          <p class="display-6 fw-bold">{{ occupied_rooms }}</p>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <a href="{% url 'booking_list' %}" class="text-decoration-none text-dark">
        <div class="card stat-card border-info shadow-sm">
          <div class="card-body text-center">
            <div class="stat-icon text-info">ğŸ“–</div>
            <h6 class="text-secondary">Total Bookings</h6>
            <p class="display-6 fw-bold">{{ total_bookings }}</p>
          </div>
        </div>
      </a>
    </div>

    <div class="col-md-3">
      <div class="card stat-card border-warning shadow-sm">
        <div class="card-body text-center">
          <div class="stat-icon text-warning">ğŸ’°</div>
          <h6 class="text-secondary">Revenue</h6>
          <p class="display-6 fw-bold">${{ revenue }}</p>
        </div>
      </div>
    </div>

  </div>

  <!-- Quick Shortcuts -->
  <div class="row g-4 mt-4">

    <div class="col-md-4">
      <a href="{% url 'booking_create' %}" class="text-decoration-none text-dark">
        <div class="card quick-card shadow-sm">
          <div class="card-body d-flex align-items-center gap-3">
            <div class="quick-icon bg-primary text-white">â•</div>
            <div>
              <h6 class="mb-0">Add New Booking</h6>
              <small class="text-secondary">Register new guest stay instantly</small>
            </div>
          </div>
        </div>
      </a>
    </div>

    <div class="col-md-4">
      <a href="{% url 'room_list' %}" class="text-decoration-none text-dark">
        <div class="card quick-card shadow-sm">
          <div class="card-body d-flex align-items-center gap-3">
            <div class="quick-icon bg-success text-white">ğŸ </div>
            <div>
              <h6 class="mb-0">Manage Rooms</h6>
              <small class="text-secondary">Track vacant and occupied rooms</small>
            </div>
          </div>
        </div>
      </a>
    </div>

    <div class="col-md-4">
      <a href="{% url 'revenue_dashboard' %}" class="text-decoration-none text-dark">
        <div class="card quick-card shadow-sm">
          <div class="card-body d-flex align-items-center gap-3">
            <div class="quick-icon bg-warning text-dark">ğŸ“Š</div>
            <div>
              <h6 class="mb-0">Revenue Dashboard</h6>
              <small class="text-secondary">Analyze financial performance</small>
            </div>
          </div>
        </div>
      </a>
    </div>

  </div>

</div>

<style>
.hero-section {
  background: linear-gradient(135deg, #0d6efd, #3fb2ff);
}
.image-strip {
  display: flex;
  gap: 15px;
  overflow-x: auto;
  scroll-behavior: smooth;
}
.image-strip img {
  height: 130px;
  width: 230px;
  border-radius: 14px;
  object-fit: cover;
  transition: 0.3s;
  box-shadow: 0 4px 14px rgba(0,0,0,0.18);
}
.image-strip img:hover {
  transform: scale(1.07);
}

.stat-card, .quick-card {
  border-radius: 14px;
  transition: 0.25s ease;
}
.stat-card:hover, .quick-card:hover {
  transform: translateY(-5px);
  box-shadow: 0px 6px 18px rgba(0,0,0,0.12);
}
.stat-icon { font-size: 30px; margin-bottom: 6px; }
.quick-icon {
  width: 44px; height: 44px; border-radius: 50%; display:flex; align-items:center; justify-content:center;
  font-size:20px;
}
</style>

{% endblock %}
